<app-header></app-header>

<div class="checkout-container container py-5">
  <h2 class="mb-4">Finalizar Compra</h2>
  <p>Preencha os dados abaixo para calcular o frete e concluir o pagamento.</p>

  <!-- ✅ Itens do Carrinho -->
  <div class="cart-summary mb-5" *ngIf="carrinho.length > 0; else carrinhoVazio">
    <h4 class="mb-3">Resumo da Compra</h4>
    <ul class="list-group">
      <li
        class="list-group-item d-flex justify-content-between align-items-start flex-wrap"
        *ngFor="let item of carrinho"
      >
        <div class="me-auto">
          <strong>{{ item.nome }}</strong><br />
          <small class="text-muted">Tamanho: {{ item.tamanho || 'Padrão' }}</small><br />
          <small class="text-muted">Qtd: {{ item.quantidade || 1 }}</small>
        </div>
        <div>
          <span class="fw-bold">R$ {{ (item.preco * (item.quantidade || 1)).toFixed(2) }}</span>
        </div>
      </li>
    </ul>
  </div>

  <ng-template #carrinhoVazio>
    <div class="alert alert-warning">Seu carrinho está vazio.</div>
  </ng-template>

  <!-- ✅ Formulário de Entrega -->
  <form class="mb-4">
    <div class="row">
      <div class="col-md-6">
        <label for="nome" class="form-label">Nome do comprador:</label>
        <input type="text" id="nome" class="form-control" placeholder="Seu nome completo" />
      </div>

      <div class="col-md-6">
        <label for="telefone" class="form-label">Telefone:</label>
        <input type="tel" id="telefone" class="form-control" placeholder="(00) 00000-0000" />
      </div>

      <div class="col-md-6 mt-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" id="email" class="form-control" placeholder="seuemail@exemplo.com" />
      </div>

      <div class="col-md-6 mt-3">
        <label for="cep" class="form-label">CEP:</label>
        <input type="text" id="cep" class="form-control" placeholder="00000-000" />
        <button type="button" class="btn btn-outline-primary btn-sm mt-2">Calcular Frete</button>
      </div>

      <div class="col-md-6 mt-3">
        <label for="endereco" class="form-label">Endereço:</label>
        <input type="text" id="endereco" class="form-control" placeholder="Rua, avenida..." />
      </div>

      <div class="col-md-3 mt-3">
        <label for="logradouro" class="form-label">Logradouro:</label>
        <input type="text" id="logradouro" class="form-control" placeholder="Número, complemento..." />
      </div>

      <div class="col-md-3 mt-3">
        <label for="cidade" class="form-label">Cidade:</label>
        <input type="text" id="cidade" class="form-control" placeholder="Sua cidade" />
      </div>
    </div>
  </form>

  <!-- ✅ Total e Pagamento -->
  <div class="total-summary text-end">
    <h4 class="mb-3">Total: <span class="text-success">R$ {{ total.toFixed(2) }}</span></h4>
    <button class="btn btn-success btn-lg">Pagar com Mercado Pago</button>
  </div>
</div>

<app-footer></app-footer>
