
<header class="header">
  <div class="logo">CARAMELO DOG & BURGUER</div>
  <nav class="nav">

  </nav>
</header>

<section class="banner fade-in">
  <img src="assets/images/banner.jpg" alt="Banner" class="banner-bg" />

  <div class="highlight-card">
    <img [src]="produtoDestaque.imagemUrl" alt="Produto em destaque" />
    <h4>{{ produtoDestaque.nome }}</h4>
    <p>R$ {{ produtoDestaque.preco | number:'1.2-2' }}</p>
    <button class="btn-pulse" (click)="adicionar(produtoDestaque)">ADICIONAR CARRINHO</button>
  </div>
  
</section>


<div class="container">

  <h2 class="text-center my-4">Hot-Dogs</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of dogs">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <h2 class="text-center my-4">Lanches</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of lanches">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <h2 class="text-center my-4">Frango</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of frango">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <h2 class="text-center my-4">Contra Fil√©</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of contra">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <h2 class="text-center my-4">Doces</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of doce">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <h2 class="text-center my-4">Bebidas</h2>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let produto of bebidas">
      <div class="card h-100 shadow-sm">
        <img src="assets/images/lanches.jpg"  class="card-img-top" alt="{{ produto.nome }}"/>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ produto.nome }}</h5>
          <p class="card-text text-muted">
            {{ produto.descricao }}
          </p>
          <div class="mt-auto">
            <strong class="d-block text-success">
              R$ {{ produto.preco | number: '1.2-2' }}
            </strong>
            <button class="btn btn-primary mt-2 w-100" (click)="adicionar(produto)">Adicionar</button>
          </div>
        </div>
      </div>
    </div>
  </div>




</div>



<footer class="site-footer">
  <div class="footer-bottom">
    <h2>CARAMELO DOG BURGUER.</h2>
    <p>¬© 2035 by Ramirez Stwart</p>
  </div>
</footer>

<!-- Carrinho Flutuante -->
<div class="cart-float" [class.open]="carrinhoAberto">
  <div class="cart-header">
    <h5>Seu Carrinho üõí</h5>
    <button class="close-btn" (click)="toggleCarrinho()">‚úï</button>
  </div>

  <div class="cart-body" *ngIf="carrinho.length > 0; else vazio">
    <div *ngFor="let item of carrinho" class="cart-item">
      <div class="cart-item-info">
        <strong>{{ item.nome }}</strong>
        <div class="quantity-controls">
          <button (click)="decrementarQuantidade(item)">‚àí</button>
          <span>{{ item.quantidade }}</span>
          <button (click)="incrementarQuantidade(item)">+</button>
        </div>
        <p>R$ {{ item.preco * item.quantidade | number:'1.2-2' }}</p>
      </div>
      <button class="remove-btn" (click)="removerDoCarrinho(item)">‚ùå</button>
    </div>
    <div class="cart-total">
      <strong>Total: R$ {{ calcularTotal() | number:'1.2-2' }}</strong>
    </div>
  </div>

  <ng-template #vazio>
    <p class="text-muted text-center mt-3">Carrinho vazio.</p>
  </ng-template>

  <button class="btn btn-success mt-3 w-100" (click)="abrirModal()">Finalizar Pedido</button>
</div>

<!-- Bot√£o flutuante -->
<button class="cart-toggle" (click)="toggleCarrinho()">
 Carrinho üõí <span *ngIf="carrinho.length > 0">{{ carrinho.length }}</span>
</button>



<div class="modal-backdrop" *ngIf="mostrarModal">
  <div class="modal-content">
    <h3>Finalizar Pedido</h3>
    <form (ngSubmit)="finalizarPedido()" #formulario="ngForm">
      <div class="mb-3">
        <label>Nome:</label>
        <input type="text" class="form-control" [(ngModel)]="dadosCliente.nome" name="nome" required />
      </div>

      <div class="mb-3">
        <label>Telefone:</label>
        <input type="tel" class="form-control" [(ngModel)]="dadosCliente.telefone" mask="(00) 00000-0000"  placeholder="000.000.000-00" name="telefone" required />
      </div>

      <div class="mb-3">
        <label>CPF:</label>
        <input type="text" class="form-control" [(ngModel)]="dadosCliente.cpf"  mask="000.000.000-00"   placeholder="000.000.000-00" name="cpf" required />
      </div>

      <div class="mb-3">
        <label>Tipo de Pedido:</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="tipoEntrega" [(ngModel)]="dadosCliente.tipoEntrega" value="Entrega" required />
          <label class="form-check-label">Entrega</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="tipoEntrega" [(ngModel)]="dadosCliente.tipoEntrega" value="Retirada" />
          <label class="form-check-label">Retirada</label>
        </div>
      </div>

      <div class="mb-3" *ngIf="dadosCliente.tipoEntrega === 'Entrega'">
        <label>Endere√ßo:</label>
        <textarea class="form-control" [(ngModel)]="dadosCliente.endereco" name="endereco" required></textarea>
      </div>


      <div class="mb-3">
        <label>Forma de pagamento:</label>
        <select class="form-control" [(ngModel)]="dadosCliente.pagamento" name="pagamento" required>
          <option value="" disabled selected>Selecione...</option>
          <option value="Pix">Pix</option>
          <option value="Dinheiro">Dinheiro</option>
          <option value="Cart√£o Cr√©dito">Cart√£o Cr√©dito</option>
          <option value="Cart√£o D√©bito">Cart√£o D√©bito</option>
        </select>
      </div>

      <div class="mb-3" *ngIf="dadosCliente.pagamento === 'Dinheiro'">
        <label>Troco para quanto?</label>
        <input type="number" class="form-control" [(ngModel)]="dadosCliente.troco" name="troco" placeholder="Ex: 50.00 separado por ." />
      </div>

      <div class="mb-3">
        <label>Observa√ß√µes</label>
        <textarea class="form-control" [(ngModel)]="dadosCliente.observacao" name="observacao" rows="3" placeholder="Ex: Sem maionese, entregar no port√£o..."></textarea>
      </div>

      <div class="mb-3 text-center">
        <p *ngIf="dadosCliente.tipoEntrega === 'Entrega'">Taxa de entrega: R$ {{ taxa_entrega | number: '1.2-2' }}</p>
        <strong>Total do Pedido:</strong>
        <span style="font-size: 1.2rem;">R$ {{ calcularTotalCarrinho() | number:'1.2-2' }}</span>
      </div>

      <div *ngIf="pixLinkGerado" class="mt-3 text-center">
        <a [href]="pixLinkGerado" target="_blank" rel="noopener noreferrer" class="btn btn-success">
          Clique aqui para efetuar o pagamento via PIX e concluir seu pedido
        </a>
      </div>


      <button type="submit" class="btn btn-success w-100 mt-3">Finalizar Pedido</button>
      <button  class="btn btn-danger w-100 mt-3" (click)="fecharModal()">Cancelar Pedido</button>
    </form>

  </div>
</div>



